package com.vico.license.aop;

import java.lang.reflect.Method;

import javax.resource.spi.RetryableUnavailableException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.tomcat.util.digester.ObjectCreateRule;
import org.springframework.web.method.HandlerMethod;
import org.springframework.web.servlet.handler.HandlerInterceptorAdapter;

import com.github.pagehelper.StringUtil;

public class SecurityInterceptor extends HandlerInterceptorAdapter {
	
	private static final String DEFAULT_TOKEN_NAME = "X-Token";
	
	private TokenManager tokenManager;
	private String tokenName;
	public TokenManager getTokenManager() {
		return tokenManager;
	}
	public void setTokenManager(TokenManager tokenManager) {
		this.tokenManager = tokenManager;
	}
	public String getTokenName() {
		return tokenName;
	}
	public void setTokenName(String tokenName) {
		if(StringUtil.isEmpty(tokenName)){
			tokenName = DEFAULT_TOKEN_NAME;
		}
		this.tokenName = tokenName;
	}
	
	
	@Override
	public boolean preHandle(HttpServletRequest request,HttpServletResponse response,Object handler){
		//从切点上获取目标方法
		
		HandlerMethod handlerMethod = (HandlerMethod) handler;
		Method method = handlerMethod.getMethod();
		
		return false;
	}
	
	
	
}
